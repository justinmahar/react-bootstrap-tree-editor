"use strict";(self.webpackChunkreact_bootstrap_tree_editor=self.webpackChunkreact_bootstrap_tree_editor||[]).push([[628],{"./src/stories/Demo.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Demo:()=>Demo,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Demo_stories});__webpack_require__("./node_modules/bootstrap/dist/css/bootstrap.css");var react=__webpack_require__("./node_modules/react/index.js"),Container=__webpack_require__("./node_modules/react-bootstrap/esm/Container.js"),Row=__webpack_require__("./node_modules/react-bootstrap/esm/Row.js"),Col=__webpack_require__("./node_modules/react-bootstrap/esm/Col.js"),Alert=__webpack_require__("./node_modules/react-bootstrap/esm/Alert.js"),Button=__webpack_require__("./node_modules/react-bootstrap/esm/Button.js"),OverlayTrigger=__webpack_require__("./node_modules/react-bootstrap/esm/OverlayTrigger.js"),Tooltip=__webpack_require__("./node_modules/react-bootstrap/esm/Tooltip.js"),Form=__webpack_require__("./node_modules/react-bootstrap/esm/Form.js"),Badge=__webpack_require__("./node_modules/react-bootstrap/esm/Badge.js"),index_esm=__webpack_require__("./node_modules/react-icons/fa/index.esm.js"),dist=__webpack_require__("./node_modules/react-sub-unsub/dist/index.js"),versatile_tree_dist=__webpack_require__("./node_modules/versatile-tree/dist/index.js"),keycode_esm=__webpack_require__("./node_modules/keycode-js/dist/keycode.esm.js"),v4=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js");const uuid=()=>(0,v4.c)(),KeyCode=keycode_esm,defaultTreeControllerOptions={idPropertyName:"id",titlePropertyName:"title",createNewData:()=>({id:uuid(),title:""})};const useTreeExpansions=(tree,treeOptions)=>{const[expansionsMap,setExpansionsMap]=function useRefState(initial){const[renderId,setRenderId]=react.useState(uuid()),ref=react.useRef(initial),setValue=react.useCallback((value=>{ref.current=value,setRenderId(uuid())}),[renderId]),value=react.useMemo((()=>ref.current),[renderId]);return react.useMemo((()=>[value,setValue]),[renderId])}({}),isExpandedId=react.useCallback((id=>void 0!==id&&!!expansionsMap[id]),[expansionsMap]),isExpandedNode=react.useCallback((node=>{const id=node?.getData()[treeOptions.idPropertyName];return!!node&&void 0!==id&&!!expansionsMap[id]}),[expansionsMap,treeOptions.idPropertyName]),setExpandedId=react.useCallback(((id,expanded)=>{if(void 0!==id){let changed=!1;const newExpansionsMap={...expansionsMap};expanded&&!newExpansionsMap[id]?(newExpansionsMap[id]=!0,changed=!0):!expanded&&newExpansionsMap[id]&&(delete newExpansionsMap[id],changed=!0),changed&&setExpansionsMap(newExpansionsMap)}}),[expansionsMap,setExpansionsMap]),setExpandedNode=react.useCallback(((node,expanded)=>{setExpandedId(node?.getData()[treeOptions.idPropertyName],expanded)}),[setExpandedId,treeOptions.idPropertyName]),toggleExpandNode=react.useCallback(((node,expand)=>{if(node){const expanded=isExpandedNode(node),newState=void 0!==expand?expand:!expanded;expanded!==newState&&setExpandedNode(node,newState)}}),[isExpandedNode,setExpandedNode]),expandAll=react.useCallback((()=>{const newExpansionsMap={...expansionsMap};tree.walk((node=>{node.hasChildren()&&(newExpansionsMap[node.getData()[treeOptions.idPropertyName]]=!0)})),setExpansionsMap(newExpansionsMap)}),[expansionsMap,setExpansionsMap,tree,treeOptions.idPropertyName]),collapseAll=react.useCallback((()=>{setExpansionsMap({})}),[setExpansionsMap]);return react.useMemo((()=>({expansionsMap,setExpansionsMap,isExpandedId,isExpandedNode,setExpandedId,setExpandedNode,toggleExpandNode,expandAll,collapseAll})),[collapseAll,expandAll,expansionsMap,isExpandedId,isExpandedNode,setExpandedId,setExpandedNode,setExpansionsMap,toggleExpandNode])},UNDEFINED_ID="UNDEFINED_ID",useTreeController=(tree,setTree,opts)=>{const options=react.useMemo((()=>({idPropertyName:opts.idPropertyName,titlePropertyName:opts.titlePropertyName,createNewData:opts.createNewData})),[opts.idPropertyName,opts.titlePropertyName]),expansions=useTreeExpansions(tree,options),mutations=((tree,setTree,treeOptions)=>{const[deletions,setDeletions]=react.useState([]),deleteNode=react.useCallback((nodeOrId=>{const node="string"==typeof nodeOrId?tree.findById(nodeOrId,treeOptions.idPropertyName):nodeOrId;if(node){const root=node.getRoot(),parent=node.getParent(),index=node.getIndex();node.removeParent();const clonedNode=node.clone();setDeletions([...deletions,{parentId:parent?.getData()[treeOptions.idPropertyName]??UNDEFINED_ID,data:clonedNode.toObject(),index}]),setTree(root)}}),[deletions,setTree,tree,treeOptions.idPropertyName]),recoverDeletion=react.useCallback((()=>{let recoveredNode;if(deletions.length>0){const deletionInfo=deletions[deletions.length-1],deletionNode=new versatile_tree_dist.TreeNode(deletionInfo.data);(tree.findById(deletionInfo.parentId,treeOptions.idPropertyName)??tree).addChildNode(deletionNode,deletionInfo.index),recoveredNode=deletionNode;const newDeletions=deletions.slice(0,deletions.length-1);setDeletions(newDeletions),setTree(tree)}return recoveredNode}),[deletions,setTree,tree,treeOptions.idPropertyName]),updateNode=react.useCallback(((nodeOrId,dataPartial)=>{const node="string"==typeof nodeOrId?tree.findById(nodeOrId,treeOptions.idPropertyName):nodeOrId;if(node){node.setData({...node.getData(),...dataPartial});const root=node.getRoot();setTree(root)}}),[setTree,tree,treeOptions.idPropertyName]),addSiblingNodeData=react.useCallback(((nodeOrId,data)=>{let newNode;const node="string"==typeof nodeOrId?tree.findById(nodeOrId,treeOptions.idPropertyName):nodeOrId;if(node&&!node.isRoot()){newNode=new versatile_tree_dist.TreeNode(data,node.getOptions()),node.addSiblingNode(newNode,node.getIndex()+1);const root=node.getRoot();setTree(root)}return newNode}),[setTree,tree,treeOptions.idPropertyName]),addChildNodeData=react.useCallback(((nodeOrId,data)=>{let newNode;const node="string"==typeof nodeOrId?tree.findById(nodeOrId,treeOptions.idPropertyName):nodeOrId;if(node){newNode=new versatile_tree_dist.TreeNode(data,node.getOptions()),node.addChildNode(newNode,0);const root=node.getRoot();setTree(root)}return newNode}),[setTree,tree,treeOptions.idPropertyName]),moveNodeLeft=react.useCallback((nodeOrId=>{const node="string"==typeof nodeOrId?tree.findById(nodeOrId,treeOptions.idPropertyName):nodeOrId;if(node){const root=node.getRoot(),parent=node.getParent();parent?.isRoot()||(node.removeParent(),parent?.addSiblingNode(node,parent.getIndex()+1),setTree(root))}}),[setTree,tree,treeOptions.idPropertyName]),moveNodeDown=react.useCallback((nodeOrId=>{const node="string"==typeof nodeOrId?tree.findById(nodeOrId,treeOptions.idPropertyName):nodeOrId;if(node){const root=node.getRoot(),rightSibling=node.getRightSibling(),parent=node.getParent();rightSibling?(node.removeParent(),rightSibling.addSiblingNode(node,rightSibling.getIndex()+1),setTree(root)):parent&&!parent.isRoot()&&(node.removeParent(),parent.addSiblingNode(node,parent.getIndex()+1),setTree(root))}}),[setTree,tree,treeOptions.idPropertyName]),moveNodeUp=react.useCallback((nodeOrId=>{const node="string"==typeof nodeOrId?tree.findById(nodeOrId,treeOptions.idPropertyName):nodeOrId;if(node){const root=node.getRoot(),leftSibling=node.getLeftSibling(),parent=node.getParent();leftSibling?(node.removeParent(),leftSibling.addSiblingNode(node,leftSibling.getIndex()),setTree(root)):parent&&!parent.isRoot()&&(node.removeParent(),parent.addSiblingNode(node,parent.getIndex()),setTree(root))}}),[setTree,tree,treeOptions.idPropertyName]),moveNodeRight=react.useCallback((nodeOrId=>{const node="string"==typeof nodeOrId?tree.findById(nodeOrId,treeOptions.idPropertyName):nodeOrId;if(node){const root=node.getRoot(),leftSibling=node.getLeftSibling();leftSibling&&(node.removeParent(),leftSibling.addChildNode(node),setTree(root))}}),[setTree,tree,treeOptions.idPropertyName]);return react.useMemo((()=>({deleteNode,deletions,recoverDeletion,updateNode,addSiblingNodeData,addChildNodeData,moveNodeLeft,moveNodeDown,moveNodeUp,moveNodeRight})),[addChildNodeData,addSiblingNodeData,deleteNode,deletions,moveNodeDown,moveNodeLeft,moveNodeRight,moveNodeUp,recoverDeletion,updateNode])})(tree,setTree,options),focus=((tree,expansions,treeOptions)=>{const[focusedId,setFocusedId]=react.useState(UNDEFINED_ID),focusedNode=react.useMemo((()=>tree.findById(focusedId,treeOptions.idPropertyName)),[tree,focusedId,treeOptions.idPropertyName]),isFocusedId=react.useCallback((id=>void 0!==id&&focusedId===id),[focusedId]),isFocusedNode=react.useCallback((treeNode=>focusedNode&&treeNode&&void 0!==typeof focusedNode.getData()[treeOptions.idPropertyName]&&void 0!==typeof treeNode.getData()[treeOptions.idPropertyName]&&focusedNode.getData()[treeOptions.idPropertyName]===treeNode.getData()[treeOptions.idPropertyName]),[focusedNode,treeOptions.idPropertyName]),setFocusedNode=react.useCallback((treeNode=>{const id=treeNode?.getData()[treeOptions.idPropertyName];setFocusedId(treeNode&&void 0!==id?id:UNDEFINED_ID)}),[treeOptions.idPropertyName]),focusUp=react.useCallback((()=>{const treeChildren=tree.getChildren();let upFocusId=UNDEFINED_ID;if(focusedNode){const leftSibling=focusedNode.getLeftSibling();if(leftSibling){let youngestChild=leftSibling;for(;expansions.isExpandedNode(youngestChild)&&youngestChild.hasChildren();)youngestChild=youngestChild.getChildren()[youngestChild.getChildren().length-1];upFocusId=youngestChild.getData()[treeOptions.idPropertyName]??UNDEFINED_ID}else focusedNode.getParent()&&(upFocusId=focusedNode.getParent()?.getData()[treeOptions.idPropertyName]??UNDEFINED_ID)}else treeChildren.length>0&&(upFocusId=treeChildren[0].getData()[treeOptions.idPropertyName]);upFocusId!==UNDEFINED_ID&&setFocusedId(upFocusId)}),[expansions,focusedNode,tree,treeOptions.idPropertyName]),focusDown=react.useCallback((()=>{const treeChildren=tree.getChildren();let downFocusId=UNDEFINED_ID;if(focusedNode)if(expansions.isExpandedNode(focusedNode)&&focusedNode.hasChildren())downFocusId=focusedNode.getChildren()[0].getData()[treeOptions.idPropertyName]??UNDEFINED_ID;else if(focusedNode.getRightSibling())downFocusId=focusedNode.getRightSibling()?.getData()[treeOptions.idPropertyName]??UNDEFINED_ID;else{let parent=focusedNode.getParent();for(;parent;){const parentRightSibling=parent.getRightSibling();if(parentRightSibling){downFocusId=parentRightSibling.getData()[treeOptions.idPropertyName]??UNDEFINED_ID;break}parent=parent.getParent()}}else treeChildren.length>0&&(downFocusId=treeChildren[0].getData()[treeOptions.idPropertyName]);downFocusId!==UNDEFINED_ID&&setFocusedId(downFocusId)}),[expansions,focusedNode,tree,treeOptions.idPropertyName]),focusRight=react.useCallback((()=>{const treeChildren=tree.getChildren();let rightFocusId=UNDEFINED_ID;focusedNode?focusedNode.hasChildren()&&(rightFocusId=focusedNode.getChildren()[0].getData()[treeOptions.idPropertyName]??UNDEFINED_ID):treeChildren.length>0&&(rightFocusId=treeChildren[0].getData()[treeOptions.idPropertyName]),rightFocusId!==UNDEFINED_ID&&setFocusedId(rightFocusId)}),[focusedNode,tree,treeOptions.idPropertyName]),focusLeft=react.useCallback((()=>{const treeChildren=tree.getChildren();let leftFocusId=UNDEFINED_ID;focusedNode?focusedNode.hasParent()&&(leftFocusId=focusedNode.getParent()?.getData()[treeOptions.idPropertyName]??UNDEFINED_ID):treeChildren.length>0&&(leftFocusId=treeChildren[0].getData()[treeOptions.idPropertyName]),leftFocusId!==UNDEFINED_ID&&setFocusedId(leftFocusId)}),[focusedNode,tree,treeOptions.idPropertyName]);return react.useMemo((()=>({focusedId,setFocusedId,isFocusedId,focusedNode,isFocusedNode,setFocusedNode,focusUp,focusDown,focusRight,focusLeft})),[focusDown,focusLeft,focusRight,focusUp,focusedId,focusedNode,isFocusedId,isFocusedNode,setFocusedNode])})(tree,expansions,options),filters=((tree,treeOptions)=>{const[filteredNodeMap,setFilteredNodeMap]=react.useState({}),[filteredAncestorNodeMap,setFilteredAncestorNodeMap]=react.useState({}),[filteredNodes,setFilteredNodes]=react.useState([]),[hasFilter,setHasFilter]=react.useState(!1),[renderId,setRenderId]=react.useState(uuid()),filterRef=react.useRef(void 0),setFilter=react.useCallback((filter=>{const newHasFilter=void 0!==filter;setHasFilter(newHasFilter),setRenderId(uuid()),filterRef.current=filter,newHasFilter||(setFilteredNodes([]),setFilteredNodeMap({}),setFilteredAncestorNodeMap({}))}),[]),isFilteredNode=react.useCallback((nodeOrId=>{const id="string"==typeof nodeOrId?nodeOrId:nodeOrId?.getData()[treeOptions.idPropertyName]??UNDEFINED_ID;return!!filteredNodeMap[id]}),[filteredNodeMap,treeOptions.idPropertyName]),isFilterAncestor=react.useCallback((nodeOrId=>{const id="string"==typeof nodeOrId?nodeOrId:nodeOrId?.getData()[treeOptions.idPropertyName]??UNDEFINED_ID;return!!filteredAncestorNodeMap[id]}),[filteredAncestorNodeMap,treeOptions.idPropertyName]);return react.useEffect((()=>{if(hasFilter){const newFilterPassIdMap={},filteredNodes=tree.findAll((node=>!!filterRef.current&&filterRef.current(node)));setFilteredNodes(filteredNodes),filteredNodes.forEach((node=>{newFilterPassIdMap[node.getData()[treeOptions.idPropertyName]]=node})),setFilteredNodeMap(newFilterPassIdMap);const newFilteredAncestorIdMap={};tree.findAll((()=>!0)).forEach((node=>{for(let i=0;i<filteredNodes.length;i++){const currFilteredNode=filteredNodes[i];if(node.isAncestorOf(currFilteredNode)){newFilteredAncestorIdMap[node.getData()[treeOptions.idPropertyName]]=currFilteredNode;break}}})),setFilteredAncestorNodeMap(newFilteredAncestorIdMap)}}),[renderId]),react.useMemo((()=>({setFilter,hasFilter,filteredNodes,isFilteredNode,isFilterAncestor})),[filteredNodes,hasFilter,isFilterAncestor,isFilteredNode,setFilter])})(tree,options);return react.useMemo((()=>({tree,setTree,options,expansions,mutations,focus,filters})),[tree,setTree,options,expansions,mutations,focus,filters])};var lib=__webpack_require__("./node_modules/react-device-detect/dist/lib.js");const defaultTreeShortcuts={focusUpShortcutDisplay:"Up",focusUpShortcutCheck:e=>!(e.code!==KeyCode.CODE_UP||e.shiftKey||e.ctrlKey||e.altKey||e.metaKey),focusDownShortcutDisplay:"Down",focusDownShortcutCheck:e=>!(e.code!==KeyCode.CODE_DOWN||e.shiftKey||e.ctrlKey||e.altKey||e.metaKey),moveNodeUpDisplay:"Ctrl+Shift+Up",moveNodeUpCheck:e=>e.code===KeyCode.CODE_UP&&e.shiftKey&&e.ctrlKey&&!e.altKey&&!e.metaKey,moveNodeDownDisplay:"Ctrl+Shift+Down",moveNodeDownCheck:e=>e.code===KeyCode.CODE_DOWN&&e.shiftKey&&e.ctrlKey&&!e.altKey&&!e.metaKey,moveNodeLeftDisplay:"Ctrl+Shift+Left",moveNodeLeftCheck:e=>e.code===KeyCode.CODE_LEFT&&e.shiftKey&&e.ctrlKey&&!e.altKey&&!e.metaKey,moveNodeRightDisplay:"Ctrl+Shift+Right",moveNodeRightCheck:e=>e.code===KeyCode.CODE_RIGHT&&e.shiftKey&&e.ctrlKey&&!e.altKey&&!e.metaKey,toggleExpandNodeDisplay:"Ctrl+Shift+X",toggleExpandNodeCheck:e=>e.code===KeyCode.CODE_X&&e.shiftKey&&e.ctrlKey&&!e.altKey&&!e.metaKey,expandAllDisplay:"Ctrl+Shift+âŒ˜+X",expandAllCheck:e=>e.code===KeyCode.CODE_X&&e.shiftKey&&e.ctrlKey&&!e.altKey&&e.metaKey,collapseAllDisplay:"Ctrl+Shift+âŒ˜+C",collapseAllCheck:e=>e.code===KeyCode.CODE_C&&e.shiftKey&&e.ctrlKey&&!e.altKey&&e.metaKey,newItemBelowDisplay:"Enter",newItemBelowCheck:e=>!(e.code!==KeyCode.CODE_ENTER||e.shiftKey||e.ctrlKey||e.altKey||e.metaKey),newItemInsideDisplay:"Shift+Enter",newItemInsideCheck:e=>e.code===KeyCode.CODE_ENTER&&e.shiftKey&&!e.ctrlKey&&!e.altKey&&!e.metaKey,deleteItemIfEmptyDisplay:"âŒ«",deleteItemIfEmptyCheck:e=>!(e.code!==KeyCode.CODE_BACK_SPACE||e.shiftKey||e.ctrlKey||e.altKey||e.metaKey),deleteItemDisplay:lib.gV?"âŒ˜+âŒ«":"Ctrl+Delete",deleteItemCheck:e=>lib.gV?e.code===KeyCode.CODE_BACK_SPACE&&!e.shiftKey&&!e.ctrlKey&&!e.altKey&&e.metaKey:e.code===KeyCode.CODE_DELETE&&!e.shiftKey&&e.ctrlKey&&!e.altKey&&!e.metaKey,recoverDeletionDisplay:lib.gV?"âŒ˜+âŒ¥+âŒ«":"Ctrl+Shift+Z",recoverDeletionCheck:e=>lib.gV?e.code===KeyCode.CODE_BACK_SPACE&&!e.shiftKey&&!e.ctrlKey&&e.altKey&&e.metaKey:e.code===KeyCode.CODE_Z&&e.shiftKey&&e.ctrlKey&&!e.altKey&&!e.metaKey},defaultTreeData={[defaultTreeControllerOptions.titlePropertyName]:"root",children:[]};var classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const BasicTreeNodeTitleComponent=_ref=>{let{node,treeController,editable=!1,hovering}=_ref;const titleFieldRef=react.useRef(null),[enteredTitle,setEnteredTitle]=react.useState(node.getData()[treeController.options.titlePropertyName]??""),[titleChanged,setTitleChanged]=react.useState(!1),handleTextFocus=()=>{treeController.focus.setFocusedNode(node)};react.useEffect((()=>{node.getData()[treeController.options.idPropertyName]===treeController.focus.focusedNode?.getData()[treeController.options.idPropertyName]&&titleFieldRef.current?.focus()}),[node,treeController.expansions,treeController.focus.focusedNode,treeController.options.idPropertyName]),react.useEffect((()=>{let timeout;return titleChanged&&(timeout=setTimeout((()=>{treeController.mutations.updateNode(node,{[treeController.options.titlePropertyName]:enteredTitle}),setTitleChanged(!1)}),200)),()=>clearTimeout(timeout)}),[enteredTitle,treeController.mutations,titleChanged,node,treeController.options.titlePropertyName]);let titleComponent=(0,jsx_runtime.jsx)("div",{children:enteredTitle});return titleComponent=editable?(0,jsx_runtime.jsx)(Form.c.Control,{ref:titleFieldRef,type:"text",value:enteredTitle,onChange:e=>{return title=e.target.value,setEnteredTitle(title),void setTitleChanged(!0);var title},onFocus:handleTextFocus,className:classnames_default()(hovering&&"bg-light")}):"---"===enteredTitle?(0,jsx_runtime.jsx)("hr",{className:"w-100 my-2 py-0"}):(0,jsx_runtime.jsx)("div",{className:"p-1 w-100",style:{fontSize:"105%"},children:enteredTitle}),titleComponent};try{BasicTreeNodeTitleComponent.displayName="BasicTreeNodeTitleComponent",BasicTreeNodeTitleComponent.__docgenInfo={description:"",displayName:"BasicTreeNodeTitleComponent",props:{node:{defaultValue:null,description:"",name:"node",required:!0,type:{name:"TreeNode"}},treeController:{defaultValue:null,description:"",name:"treeController",required:!0,type:{name:"{ tree: Tree; setTree: (newTree: TreeNode | Tree) => void; options: TreeControllerOptions; expansions: { expansionsMap: Record<string, boolean>; ... 7 more ...; collapseAll: () => void; }; mutations: { ...; }; focus: { ...; }; filters: { ...; }; }"}},editable:{defaultValue:{value:"false"},description:"",name:"editable",required:!1,type:{name:"boolean"}},hovering:{defaultValue:null,description:"",name:"hovering",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/BasicTreeNodeTitleComponent.tsx#BasicTreeNodeTitleComponent"]={docgenInfo:BasicTreeNodeTitleComponent.__docgenInfo,name:"BasicTreeNodeTitleComponent",path:"src/components/BasicTreeNodeTitleComponent.tsx#BasicTreeNodeTitleComponent"})}catch(__react_docgen_typescript_loader_error){}var Dropdown=__webpack_require__("./node_modules/react-bootstrap/esm/Dropdown.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");const BasicTreeNodeDropdown=_ref=>{let{node,treeController,shortcuts,...props}=_ref;const[showDeletionPrompt,setShowDeletionPrompt]=react.useState(!1),isExpanded=treeController.expansions.isExpandedNode(node),handleConfirmDeleteEntry=()=>{treeController.mutations.deleteNode(node),setShowDeletionPrompt(!1)},handleMoveLeft=react.useCallback((()=>{treeController.mutations.moveNodeLeft(node)}),[treeController.mutations,node]),handleMoveDown=react.useCallback((()=>{treeController.mutations.moveNodeDown(node)}),[treeController.mutations,node]),handleMoveUp=react.useCallback((()=>{treeController.mutations.moveNodeUp(node)}),[treeController.mutations,node]),handleMoveRight=react.useCallback((()=>{treeController.mutations.moveNodeRight(node)}),[treeController.mutations,node]),handleEllipsisMouseDown=()=>{setShowDeletionPrompt(!1)},dropdownItemClassName="d-flex justify-content-between align-items-center gap-4 small w-100",dropdownItemLabelClassName="d-flex align-items-center gap-2",dropdownItemShortcutClassName="d-flex align-items-center small text-muted";return(0,jsx_runtime.jsx)("div",{...props,className:classnames_default()(props.className),style:{...props.style},children:(0,jsx_runtime.jsx)(NoCaretAfterToggle,{children:(0,jsx_runtime.jsxs)(Dropdown.c,{children:[(0,jsx_runtime.jsx)(Dropdown.c.Toggle,{variant:"success",id:`dropdown-menu-${node.getData()[treeController.options.idPropertyName]??UNDEFINED_ID}`,as:"div",style:{cursor:"pointer"},onMouseDown:()=>handleEllipsisMouseDown(),onTouchStartCapture:()=>handleEllipsisMouseDown(),children:(0,jsx_runtime.jsx)(index_esm.Yz1,{})}),(0,jsx_runtime.jsxs)(Dropdown.c.Menu,{children:[(0,jsx_runtime.jsxs)(Dropdown.c.Item,{className:dropdownItemClassName,onClick:()=>(()=>{const newNodeData=treeController.options.createNewData(),newNode=treeController.mutations.addSiblingNodeData(node,newNodeData);treeController.focus.setFocusedNode(newNode)})(),disabled:!1,children:[(0,jsx_runtime.jsxs)("div",{className:dropdownItemLabelClassName,children:[(0,jsx_runtime.jsx)(index_esm.wTC,{})," New item below"]}),(0,jsx_runtime.jsx)("div",{className:dropdownItemShortcutClassName,children:shortcuts?.newItemBelowDisplay})]}),(0,jsx_runtime.jsxs)(Dropdown.c.Item,{className:dropdownItemClassName,onClick:()=>(()=>{const newNodeData=treeController.options.createNewData(),newNode=treeController.mutations.addChildNodeData(node,newNodeData);treeController.focus.setFocusedNode(newNode)})(),disabled:!1,children:[(0,jsx_runtime.jsxs)("div",{className:dropdownItemLabelClassName,children:[(0,jsx_runtime.jsx)(index_esm.ML4,{})," New item inside"]}),(0,jsx_runtime.jsx)("div",{className:dropdownItemShortcutClassName,children:shortcuts?.newItemInsideDisplay})]}),(0,jsx_runtime.jsx)(Dropdown.c.Divider,{}),(0,jsx_runtime.jsxs)(Dropdown.c.Item,{className:dropdownItemClassName,onClick:()=>handleMoveUp(),disabled:!node.getLeftSibling(),children:[(0,jsx_runtime.jsxs)("div",{className:dropdownItemLabelClassName,children:[(0,jsx_runtime.jsx)(index_esm.U5w,{})," Move up"]}),(0,jsx_runtime.jsx)("div",{className:dropdownItemShortcutClassName,children:shortcuts?.moveNodeUpDisplay})]}),(0,jsx_runtime.jsxs)(Dropdown.c.Item,{className:dropdownItemClassName,onClick:()=>handleMoveDown(),disabled:!node.getRightSibling(),children:[(0,jsx_runtime.jsxs)("div",{className:dropdownItemLabelClassName,children:[(0,jsx_runtime.jsx)(index_esm.aSB,{})," Move down"]}),(0,jsx_runtime.jsx)("div",{className:dropdownItemShortcutClassName,children:shortcuts?.moveNodeDownDisplay})]}),(0,jsx_runtime.jsxs)(Dropdown.c.Item,{className:dropdownItemClassName,onClick:()=>handleMoveLeft(),disabled:!!node.getParent()?.isRoot(),children:[(0,jsx_runtime.jsxs)("div",{className:dropdownItemLabelClassName,children:[(0,jsx_runtime.jsx)(index_esm.u8e,{})," Move out"]}),(0,jsx_runtime.jsx)("div",{className:dropdownItemShortcutClassName,children:shortcuts?.moveNodeLeftDisplay})]}),(0,jsx_runtime.jsxs)(Dropdown.c.Item,{className:dropdownItemClassName,onClick:()=>handleMoveRight(),disabled:!node.getLeftSibling(),children:[(0,jsx_runtime.jsxs)("div",{className:dropdownItemLabelClassName,children:[(0,jsx_runtime.jsx)(index_esm.iK6,{})," Move in"]}),(0,jsx_runtime.jsx)("div",{className:dropdownItemShortcutClassName,children:shortcuts?.moveNodeRightDisplay})]}),(0,jsx_runtime.jsx)(Dropdown.c.Divider,{}),(0,jsx_runtime.jsxs)(Dropdown.c.Item,{className:dropdownItemClassName,onClick:()=>{treeController.expansions.toggleExpandNode(node)},disabled:!isExpanded&&!node.hasChildren(),children:[(0,jsx_runtime.jsxs)("div",{className:dropdownItemLabelClassName,children:[isExpanded&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(index_esm.g9q,{style:{transform:"rotate(135deg)"}})," Collapse"]}),!isExpanded&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(index_esm.uE5,{})," Expand"]})]}),(0,jsx_runtime.jsx)("div",{className:dropdownItemShortcutClassName,children:shortcuts?.toggleExpandNodeDisplay})]}),(0,jsx_runtime.jsxs)(Dropdown.c.Item,{className:dropdownItemClassName,onClick:()=>{treeController.expansions.expandAll()},children:[(0,jsx_runtime.jsxs)("div",{className:dropdownItemLabelClassName,children:[(0,jsx_runtime.jsx)(index_esm.Ulf,{})," Expand all"]}),(0,jsx_runtime.jsx)("div",{className:dropdownItemShortcutClassName,children:shortcuts?.expandAllDisplay})]}),(0,jsx_runtime.jsxs)(Dropdown.c.Item,{className:dropdownItemClassName,onClick:()=>{treeController.expansions.collapseAll()},children:[(0,jsx_runtime.jsxs)("div",{className:dropdownItemLabelClassName,children:[(0,jsx_runtime.jsx)(index_esm.IPu,{})," Collapse all"]}),(0,jsx_runtime.jsx)("div",{className:dropdownItemShortcutClassName,children:shortcuts?.collapseAllDisplay})]}),(0,jsx_runtime.jsx)(Dropdown.c.Divider,{}),treeController.mutations.deletions.length>0&&(0,jsx_runtime.jsxs)(Dropdown.c.Item,{className:classnames_default()(dropdownItemClassName),onClick:()=>{const recoveredNode=treeController.mutations.recoverDeletion();treeController.focus.setFocusedNode(recoveredNode)},children:[(0,jsx_runtime.jsxs)("div",{className:dropdownItemLabelClassName,children:[(0,jsx_runtime.jsx)(index_esm.icK,{})," Recover"]}),(0,jsx_runtime.jsx)("div",{className:dropdownItemShortcutClassName,children:shortcuts?.recoverDeletionDisplay})]}),!showDeletionPrompt&&(0,jsx_runtime.jsxs)(Dropdown.c.Item,{className:dropdownItemClassName,onClick:e=>{node.getData()[treeController.options.titlePropertyName]?(setShowDeletionPrompt(!0),treeController.focus.setFocusedNode(node)):handleConfirmDeleteEntry(),e.preventDefault(),e.stopPropagation()},children:[(0,jsx_runtime.jsxs)("div",{className:dropdownItemLabelClassName,children:[(0,jsx_runtime.jsx)(index_esm.Om$,{})," Delete"]}),(0,jsx_runtime.jsx)("div",{className:dropdownItemShortcutClassName,children:shortcuts?.deleteItemDisplay})]}),showDeletionPrompt&&(0,jsx_runtime.jsxs)(Dropdown.c.Item,{className:classnames_default()(dropdownItemClassName,"text-danger"),onClick:()=>handleConfirmDeleteEntry(),children:[(0,jsx_runtime.jsxs)("div",{className:dropdownItemLabelClassName,children:[(0,jsx_runtime.jsx)(index_esm.c1T,{})," Confirm"]}),(0,jsx_runtime.jsx)("div",{className:dropdownItemShortcutClassName})]}),showDeletionPrompt&&(0,jsx_runtime.jsxs)(Dropdown.c.Item,{className:classnames_default()(dropdownItemClassName,"text-secondary"),onClick:()=>(setShowDeletionPrompt(!1),void treeController.focus.setFocusedNode(node)),children:[(0,jsx_runtime.jsxs)("div",{className:dropdownItemLabelClassName,children:[(0,jsx_runtime.jsx)(index_esm.me_,{})," Cancel"," "]}),(0,jsx_runtime.jsx)("div",{className:dropdownItemShortcutClassName})]})]})]})})})};BasicTreeNodeDropdown.displayName="BasicTreeNodeDropdown";const NoCaretAfterToggle=styled_components_browser_esm.cp.div`
  .dropdown-toggle::after {
    display: none;
  }
`;try{BasicTreeNodeDropdown.displayName="BasicTreeNodeDropdown",BasicTreeNodeDropdown.__docgenInfo={description:"",displayName:"BasicTreeNodeDropdown",props:{node:{defaultValue:null,description:"",name:"node",required:!0,type:{name:"TreeNode"}},treeController:{defaultValue:null,description:"",name:"treeController",required:!0,type:{name:"{ tree: Tree; setTree: (newTree: TreeNode | Tree) => void; options: TreeControllerOptions; expansions: { expansionsMap: Record<string, boolean>; ... 7 more ...; collapseAll: () => void; }; mutations: { ...; }; focus: { ...; }; filters: { ...; }; }"}},shortcuts:{defaultValue:null,description:"",name:"shortcuts",required:!1,type:{name:"TreeShortcuts"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/BasicTreeNodeDropdown.tsx#BasicTreeNodeDropdown"]={docgenInfo:BasicTreeNodeDropdown.__docgenInfo,name:"BasicTreeNodeDropdown",path:"src/components/BasicTreeNodeDropdown.tsx#BasicTreeNodeDropdown"})}catch(__react_docgen_typescript_loader_error){}const BasicTreeNodeComponent=_ref=>{let{node,treeController,editable=!1,showBullets=!1,showPointer=!1,shortcuts,...props}=_ref;const expanded=treeController.expansions.isExpandedNode(node),[hovering,setHovering]=react.useState(!1),children=node.getChildren()??[],hasChildren=node.hasChildren(),isFocused=treeController.focus.isFocusedNode(node),isDivider="---"===(node.getData()[treeController.options.titlePropertyName]??"");react.useEffect((()=>{(treeController.focus.focusedNode&&node.isAncestorOf(treeController.focus.focusedNode)&&!treeController.expansions.isExpandedNode(node)||treeController.filters.hasFilter&&treeController.filters.isFilterAncestor(node)&&!treeController.expansions.isExpandedNode(node))&&treeController.expansions.toggleExpandNode(node,!0)}),[node,treeController.expansions,treeController.filters,treeController.focus.focusedNode]);const entryElements=(treeController.filters.hasFilter?children.filter((child=>treeController.filters.isFilteredNode(child)||treeController.filters.isFilterAncestor(child))):children).map(((childNode,i)=>{const elemKey=function(){for(var _len=arguments.length,values=new Array(_len),_key=0;_key<_len;_key++)values[_key]=arguments[_key];return values.map((val=>`${val}`)).join("-")}("parent",node.getData()[treeController.options.idPropertyName]??UNDEFINED_ID,"child",childNode.getData()[treeController.options.idPropertyName]??UNDEFINED_ID,"index",i);return(0,jsx_runtime.jsx)(BasicTreeNodeComponent,{node:childNode,treeController,editable,shortcuts,showBullets,showPointer},elemKey)}));return(0,jsx_runtime.jsxs)("div",{...props,className:classnames_default()(props.className),style:{...props.style},children:[!node.isRoot()&&(0,jsx_runtime.jsxs)("div",{className:classnames_default()("d-flex align-items-center gap-1 position-relative"),onMouseEnter:()=>{setHovering(!0)},onMouseLeave:()=>{setHovering(!1)},children:[showPointer&&isFocused&&(0,jsx_runtime.jsx)("div",{className:"position-absolute",style:{left:-20},children:(0,jsx_runtime.jsx)(index_esm.kP2,{})}),hasChildren&&(0,jsx_runtime.jsx)("div",{className:"d-flex justify-content-center align-items-center user-select-none",style:{width:14,cursor:"pointer"},onClick:()=>{node.hasChildren()&&treeController.expansions.toggleExpandNode(node),treeController.focus.setFocusedNode(node)},children:expanded&&hasChildren?(0,jsx_runtime.jsx)(index_esm.Y3e,{}):(0,jsx_runtime.jsx)(index_esm.iCX,{style:{opacity:hasChildren?1:0}})}),!hasChildren&&(0,jsx_runtime.jsx)("div",{className:"d-flex justify-content-center align-items-center user-select-none",style:{width:14},children:showBullets&&!isDivider&&(0,jsx_runtime.jsx)(index_esm.g3O,{style:{fontSize:"30%"}})}),(0,jsx_runtime.jsx)(BasicTreeNodeTitleComponent,{node,treeController,editable,hovering}),editable&&(0,jsx_runtime.jsx)("div",{className:"d-flex align-items-center gap-1 ms-1 user-select-none",children:(0,jsx_runtime.jsx)(BasicTreeNodeDropdown,{node,treeController,shortcuts})})]}),(expanded&&hasChildren||node.isRoot())&&(0,jsx_runtime.jsx)("div",{className:classnames_default()("d-flex flex-column gap-1 mt-1",!node.isRoot()&&"ms-4"),children:entryElements.length>0&&(0,jsx_runtime.jsx)("div",{className:"d-flex flex-column gap-1",children:entryElements})})]})};BasicTreeNodeComponent.displayName="BasicTreeNodeComponent";try{BasicTreeNodeComponent.displayName="BasicTreeNodeComponent",BasicTreeNodeComponent.__docgenInfo={description:"",displayName:"BasicTreeNodeComponent",props:{node:{defaultValue:null,description:"",name:"node",required:!0,type:{name:"TreeNode"}},treeController:{defaultValue:null,description:"",name:"treeController",required:!0,type:{name:"{ tree: Tree; setTree: (newTree: TreeNode | Tree) => void; options: TreeControllerOptions; expansions: { expansionsMap: Record<string, boolean>; ... 7 more ...; collapseAll: () => void; }; mutations: { ...; }; focus: { ...; }; filters: { ...; }; }"}},editable:{defaultValue:{value:"false"},description:"",name:"editable",required:!1,type:{name:"boolean"}},showBullets:{defaultValue:{value:"false"},description:"",name:"showBullets",required:!1,type:{name:"boolean"}},showPointer:{defaultValue:{value:"false"},description:"",name:"showPointer",required:!1,type:{name:"boolean"}},shortcuts:{defaultValue:null,description:"",name:"shortcuts",required:!1,type:{name:"TreeShortcuts"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/BasicTreeNodeComponent.tsx#BasicTreeNodeComponent"]={docgenInfo:BasicTreeNodeComponent.__docgenInfo,name:"BasicTreeNodeComponent",path:"src/components/BasicTreeNodeComponent.tsx#BasicTreeNodeComponent"})}catch(__react_docgen_typescript_loader_error){}const TreeEditorDemo=()=>{const[showAlert,setShowAlert]=react.useState(!0),[treeEditingEnabled,setTreeEditingEnabled]=react.useState(!0),treeOptions=defaultTreeControllerOptions,[tree,setTree]=(initial=>{const[treeDataStored,setTreeData]=react.useState(initial),treeData=react.useMemo((()=>treeDataStored||defaultTreeData),[treeDataStored]),tree=react.useMemo((()=>new versatile_tree_dist.Tree(treeData)),[treeData]),setTree=react.useCallback((newTree=>{setTreeData(newTree.toObject())}),[setTreeData]);return react.useMemo((()=>[tree,setTree]),[setTree,tree])})(demoTreeData),treeController=useTreeController(tree,setTree,treeOptions),[enteredSearch,setEnteredSearch]=react.useState(""),trimmedEnteredSearch=enteredSearch.trim(),shortcuts=function(treeController,domObj){let treeShortcuts=arguments.length>2&&void 0!==arguments[2]?arguments[2]:defaultTreeShortcuts;const shortcuts=react.useMemo((()=>treeShortcuts),[]);return react.useEffect((()=>{const subs=new dist.us;return subs.subscribeDOMEvent(domObj,"keydown",(e=>{if(shortcuts.focusUpShortcutCheck(e))e.preventDefault(),e.stopPropagation(),treeController.focus.focusUp();else if(shortcuts.focusDownShortcutCheck(e))e.preventDefault(),e.stopPropagation(),treeController.focus.focusDown();else if(shortcuts.moveNodeUpCheck(e))e.preventDefault(),e.stopPropagation(),treeController.mutations.moveNodeUp(treeController.focus.focusedNode);else if(shortcuts.moveNodeDownCheck(e))e.preventDefault(),e.stopPropagation(),treeController.mutations.moveNodeDown(treeController.focus.focusedNode);else if(shortcuts.moveNodeLeftCheck(e))e.preventDefault(),e.stopPropagation(),treeController.mutations.moveNodeLeft(treeController.focus.focusedNode);else if(shortcuts.moveNodeRightCheck(e))e.preventDefault(),e.stopPropagation(),treeController.mutations.moveNodeRight(treeController.focus.focusedNode);else if(shortcuts.toggleExpandNodeCheck(e))e.preventDefault(),e.stopPropagation(),treeController.expansions.toggleExpandNode(treeController.focus.focusedNode);else if(shortcuts.expandAllCheck(e))e.preventDefault(),e.stopPropagation(),treeController.expansions.expandAll();else if(shortcuts.collapseAllCheck(e))e.preventDefault(),e.stopPropagation(),treeController.expansions.collapseAll();else if(shortcuts.newItemBelowCheck(e)){e.preventDefault(),e.stopPropagation();const focusedNode=treeController.focus.focusedNode;if(focusedNode){const newNodeData=treeController.options.createNewData(),newNode=treeController.mutations.addSiblingNodeData(focusedNode,newNodeData);treeController.focus.setFocusedNode(newNode)}}else if(shortcuts.newItemInsideCheck(e)){e.preventDefault(),e.stopPropagation();const focusedNode=treeController.focus.focusedNode;if(focusedNode){const newNodeData=treeController.options.createNewData(),newNode=treeController.mutations.addChildNodeData(focusedNode,newNodeData);treeController.focus.setFocusedNode(newNode)}}else if(shortcuts.deleteItemIfEmptyCheck(e)){const focusedNode=treeController.focus.focusedNode,nodeName=focusedNode?.getData()[treeController.options.titlePropertyName];if(focusedNode&&"string"==typeof nodeName&&0===nodeName.length){const nextFocusNode=focusedNode.getLeftSibling()?focusedNode.getLeftSibling():focusedNode.getRightSibling()?focusedNode.getRightSibling():focusedNode.getParent()&&!focusedNode.getParent()?.isRoot()?focusedNode.getParent():void 0;treeController.mutations.deleteNode(focusedNode),treeController.focus.setFocusedNode(nextFocusNode),e.preventDefault(),e.stopPropagation()}}else if(shortcuts.deleteItemCheck(e)){const focusedNode=treeController.focus.focusedNode;if(focusedNode){e.preventDefault(),e.stopPropagation();const nextFocusNode=focusedNode?focusedNode.getLeftSibling()?focusedNode.getLeftSibling():focusedNode.getRightSibling()?focusedNode.getRightSibling():focusedNode.getParent()&&!focusedNode.getParent()?.isRoot()?focusedNode.getParent():void 0:void 0;treeController.mutations.deleteNode(treeController.focus.focusedNode),treeController.focus.setFocusedNode(nextFocusNode)}}else if(shortcuts.recoverDeletionCheck(e)){e.preventDefault(),e.stopPropagation();const recoveredNode=treeController.mutations.recoverDeletion();treeController.focus.setFocusedNode(recoveredNode)}})),subs.createCleanup()}),[treeController.expansions,treeController.focus,treeController.mutations,treeController.options,shortcuts,domObj]),shortcuts}(treeController,document),[changeTime,setChangeTime]=react.useState(Date.now());return react.useEffect((()=>{const subs=new dist.us;return subs.subscribeDOMEvent(document,"keydown",(e=>{e.code===KeyCode.CODE_E&&e.shiftKey&&e.ctrlKey&&!e.altKey&&!e.metaKey&&(e.preventDefault(),e.stopPropagation(),setTreeEditingEnabled(!treeEditingEnabled))})),subs.createCleanup()})),react.useEffect((()=>{if(!treeController.tree.hasChildren()){const newNodeData=treeController.options.createNewData(),node=treeController.mutations.addChildNodeData(treeController.tree,newNodeData);treeController.focus.setFocusedNode(node)}}),[treeController.focus,treeController.mutations,treeController.tree,treeController.options]),react.useEffect((()=>{treeController.expansions.expandAll()}),[]),react.useEffect((()=>{const subs=new dist.us;if(trimmedEnteredSearch){const newFilter=node=>{const nodeTitle=(!!node&&node.getData()[treeOptions.titlePropertyName]&&node.getData()[treeOptions.titlePropertyName])??"";return"---"!==nodeTitle&&nodeTitle.toLowerCase().includes(trimmedEnteredSearch.toLowerCase())};treeController.filters.setFilter(newFilter)}else treeController.filters.setFilter(void 0);return subs.createCleanup()}),[treeOptions.titlePropertyName,trimmedEnteredSearch]),(0,jsx_runtime.jsx)(Container.c,{className:"my-4",children:(0,jsx_runtime.jsx)(Row.c,{children:(0,jsx_runtime.jsx)(Col.c,{sm:{offset:2,span:8},children:(0,jsx_runtime.jsxs)("div",{className:"d-flex flex-column gap-3",children:[showAlert&&(0,jsx_runtime.jsxs)(Alert.c,{variant:"primary",dismissible:!0,onClose:()=>setShowAlert(!1),children:[(0,jsx_runtime.jsxs)("p",{children:["This is a demo of"," ",(0,jsx_runtime.jsx)("a",{href:"https://github.com/justinmahar/react-bootstrap-tree-editor",children:"react-bootstrap-tree-editor"}),", built on ",(0,jsx_runtime.jsx)("a",{href:"https://react-bootstrap.netlify.app/",children:"react-bootstrap"})," and powered by"," ",(0,jsx_runtime.jsx)("a",{href:"https://github.com/justinmahar/versatile-tree",children:"versatile-tree"}),"."]}),(0,jsx_runtime.jsx)("p",{children:"You will likely want to customize this further, but this demo serves as a good starting point should you be interested in using this project."}),(0,jsx_runtime.jsxs)("p",{children:["A few handy things you can try out:",(0,jsx_runtime.jsxs)("ul",{children:[(0,jsx_runtime.jsxs)("li",{children:[(0,jsx_runtime.jsx)("span",{className:"fw-bold",children:"Edit/View Modes"})," - Switch from Edit to View mode using the toggle switch."]}),(0,jsx_runtime.jsxs)("li",{children:[(0,jsx_runtime.jsx)("span",{className:"fw-bold",children:"Keyboard Editing"})," - Use Enter to insert items below, Shift+Enter to insert inside. Customizable shortcuts are available for moving items."]}),(0,jsx_runtime.jsxs)("li",{children:[(0,jsx_runtime.jsx)("span",{className:"fw-bold",children:"Actions Dropdown"})," - Click the ellipsis ",(0,jsx_runtime.jsx)(index_esm.Yz1,{})," to view actions and their associated shortcuts."]}),(0,jsx_runtime.jsxs)("li",{children:[(0,jsx_runtime.jsx)("span",{className:"fw-bold",children:"Deletion & Recovery"})," - Delete items from the tree and recover them if deleted on accident."]}),(0,jsx_runtime.jsxs)("li",{children:[(0,jsx_runtime.jsx)("span",{className:"fw-bold",children:"Dividers"})," - Use triple-dash (",(0,jsx_runtime.jsx)("code",{children:"---"}),") to create a horizontal divider when in View Mode."]}),(0,jsx_runtime.jsxs)("li",{children:[(0,jsx_runtime.jsx)("span",{className:"fw-bold",children:"Searching"}),' - Full tree searching, including auto node expansion on matches. Try searching for "dragon".']})]})]}),(0,jsx_runtime.jsxs)("p",{children:["You can"," ",(0,jsx_runtime.jsx)("a",{href:"https://github.com/justinmahar/react-bootstrap-tree-editor/blob/master/src/components/TreeEditorDemo.tsx",children:"view the source here"}),"."]}),(0,jsx_runtime.jsxs)("p",{className:"mb-0",children:["If this project helps you, please"," ",(0,jsx_runtime.jsx)("a",{href:"https://github.com/justinmahar/react-bootstrap-tree-editor",children:"star it on GitHub"})," and consider"," ",(0,jsx_runtime.jsx)("a",{href:"https://github.com/justinmahar/react-bootstrap-tree-editor#donate",children:"buying me a coffee"})," if you're feeling appreciative! â˜•ï¸"]})]}),(0,jsx_runtime.jsxs)("div",{className:"d-flex justify-content-between align-items-center gap-2",children:[(0,jsx_runtime.jsxs)("h4",{className:"mb-0",children:["Tree Editor",!showAlert&&(0,jsx_runtime.jsx)(index_esm._CO,{className:"ms-2 text-primary",style:{fontSize:"50%",cursor:"pointer"},onClick:()=>setShowAlert(!0)})]}),(0,jsx_runtime.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,jsx_runtime.jsx)(Button.c,{variant:"outline-secondary",size:"sm",onClick:()=>(()=>{const newTree=new versatile_tree_dist.Tree(demoTreeData);setChangeTime(Date.now()),setTree(newTree)})(),children:"Reset"}),(0,jsx_runtime.jsx)(OverlayTrigger.c,{placement:"left",delay:{show:0,hide:0},overlay:(0,jsx_runtime.jsxs)(Tooltip.c,{id:"tooltip-editing",children:["Switch to ",treeEditingEnabled?"View":"Edit"," mode. (Ctrl+Shift+E)"]}),children:(0,jsx_runtime.jsx)(Form.c.Check,{type:"switch",label:(0,jsx_runtime.jsx)(Badge.c,{bg:treeEditingEnabled?"primary":"dark",children:treeEditingEnabled?"Edit":"View"}),className:"user-select-none",id:"toggle-switch-editing",checked:!!treeEditingEnabled,onChange:e=>setTreeEditingEnabled(e.target.checked)})})]})]}),(0,jsx_runtime.jsx)(Form.c.Group,{controlId:"search-group",children:(0,jsx_runtime.jsx)(Form.c.Control,{type:"text",placeholder:"Search",value:enteredSearch,onChange:e=>setEnteredSearch(e.target.value),onFocus:()=>{treeController.focus.setFocusedNode(void 0)}})}),enteredSearch&&(0,jsx_runtime.jsxs)("div",{children:["Showing ",(0,jsx_runtime.jsx)(Badge.c,{bg:"dark",children:treeController.filters.filteredNodes.length})," result",1!==treeController.filters.filteredNodes.length&&"s"]}),(0,jsx_runtime.jsx)(BasicTreeNodeComponent,{node:treeController.tree,treeController,editable:!!treeEditingEnabled,shortcuts,showBullets:!treeEditingEnabled,showPointer:!1},changeTime),(0,jsx_runtime.jsxs)("p",{className:"mt-5 text-center text-muted",children:["Found it helpful?"," ",(0,jsx_runtime.jsx)("a",{href:"https://github.com/justinmahar/react-bootstrap-tree-editor",children:"Star it on GitHub"})," â­ï¸ or"," ",(0,jsx_runtime.jsx)("a",{href:"https://github.com/justinmahar/react-bootstrap-tree-editor#donate",children:"buy me a coffee"})," â˜•ï¸ if you're feeling appreciative!"]})]})})})})};TreeEditorDemo.displayName="TreeEditorDemo";const demoTreeData={title:"root",children:[{id:"0c48797c-619c-4b97-bb02-73e486dfeb26",title:"ðŸ“‹ Tasks",children:[{id:"2eaa1992-b2c7-4d4e-b088-1d539dd54be3",title:"ðŸ§º Do laundry",children:[]},{id:"c90c5af0-46a4-41c8-916d-983b53c44fcd",title:"ðŸ¥˜ Meal prep",children:[]},{id:"cb82ba25-4283-481c-b7bc-6dd08759b41a",title:"ðŸ‰ Slay dragon",children:[]}]},{id:"3a1986b0-7c83-42f4-b5a0-28c86520530e",title:"ðŸš— Errands",children:[{id:"687b042e-58cc-4f8f-9abe-9588ee73a4b3",title:"Groceries",children:[{id:"e7a422f6-d6f0-4c71-8545-9b2c71c50491",title:"ðŸ¥© Meat",children:[]},{id:"726e09a7-a385-41ae-80a7-fae8a74747c5",title:"ðŸ¥¦ Veggies",children:[]},{id:"cfd7fac3-5a25-473f-ba1f-ebc17809c32e",title:"ðŸ– Dragon bait",children:[]}]},{id:"00a4314c-c140-450a-9a3a-3fdfea87a289",title:"Hardware",children:[{id:"39249c4a-4132-4915-8dc9-0422d10b6c73",title:"ðŸ—¡ï¸ Sword",children:[]}]}]},{id:"47077606-c469-40d9-8c6f-6fa1bff1f76f",title:"ðŸ§  Reminders",children:[{id:"5bb660e4-e092-4e06-807e-9540d9d37247",title:"ðŸ“ž Call family",children:[]},{id:"2223020c-5041-4a5c-80c3-fabfc4ff13e5",title:"ðŸ™ Be grateful",children:[]},{id:"802795e1-4223-4922-96a5-714bc84f4465",title:"---",children:[]},{id:"79080099-692b-420c-90f6-014ca333e98a",title:"ðŸ’¤ Get to bed early",children:[]},{id:"06de1566-ba9b-48e0-9645-af8b9ab379ea",title:"ðŸ’ª Training",children:[]}]}]},Demo_stories={title:"Stories/Demo",component:TreeEditorDemo,parameters:{options:{showPanel:!1}}},Demo={};Demo.parameters={...Demo.parameters,docs:{...Demo.parameters?.docs,source:{originalSource:"{}",...Demo.parameters?.docs?.source}}};const __namedExportsOrder=["Demo"]},"data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%272%27 fill=%27%23fff%27/%3e%3c/svg%3e":module=>{module.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%272%27 fill=%27%23fff%27/%3e%3c/svg%3e"},"data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27%2386b7fe%27/%3e%3c/svg%3e":module=>{module.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27%2386b7fe%27/%3e%3c/svg%3e"},"data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27%23fff%27/%3e%3c/svg%3e":module=>{module.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27%23fff%27/%3e%3c/svg%3e"},"data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27rgba%280, 0, 0, 0.25%29%27/%3e%3c/svg%3e":module=>{module.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27rgba%280, 0, 0, 0.25%29%27/%3e%3c/svg%3e"},"data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27rgba%28255, 255, 255, 0.25%29%27/%3e%3c/svg%3e":module=>{module.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27rgba%28255, 255, 255, 0.25%29%27/%3e%3c/svg%3e"},"data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 12 12%27 width=%2712%27 height=%2712%27 fill=%27none%27 stroke=%27%23dc3545%27%3e%3ccircle cx=%276%27 cy=%276%27 r=%274.5%27/%3e%3cpath stroke-linejoin=%27round%27 d=%27M5.8 3.6h.4L6 6.5z%27/%3e%3ccircle cx=%276%27 cy=%278.2%27 r=%27.6%27 fill=%27%23dc3545%27 stroke=%27none%27/%3e%3c/svg%3e":module=>{module.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 12 12%27 width=%2712%27 height=%2712%27 fill=%27none%27 stroke=%27%23dc3545%27%3e%3ccircle cx=%276%27 cy=%276%27 r=%274.5%27/%3e%3cpath stroke-linejoin=%27round%27 d=%27M5.8 3.6h.4L6 6.5z%27/%3e%3ccircle cx=%276%27 cy=%278.2%27 r=%27.6%27 fill=%27%23dc3545%27 stroke=%27none%27/%3e%3c/svg%3e"},"data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23000%27%3e%3cpath d=%27M.293.293a1 1 0 0 1 1.414 0L8 6.586 14.293.293a1 1 0 1 1 1.414 1.414L9.414 8l6.293 6.293a1 1 0 0 1-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 0 1-1.414-1.414L6.586 8 .293 1.707a1 1 0 0 1 0-1.414z%27/%3e%3c/svg%3e":module=>{module.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23000%27%3e%3cpath d=%27M.293.293a1 1 0 0 1 1.414 0L8 6.586 14.293.293a1 1 0 1 1 1.414 1.414L9.414 8l6.293 6.293a1 1 0 0 1-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 0 1-1.414-1.414L6.586 8 .293 1.707a1 1 0 0 1 0-1.414z%27/%3e%3c/svg%3e"},"data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23052c65%27%3e%3cpath fill-rule=%27evenodd%27 d=%27M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z%27/%3e%3c/svg%3e":module=>{module.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23052c65%27%3e%3cpath fill-rule=%27evenodd%27 d=%27M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z%27/%3e%3c/svg%3e"},"data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23212529%27%3e%3cpath fill-rule=%27evenodd%27 d=%27M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z%27/%3e%3c/svg%3e":module=>{module.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23212529%27%3e%3cpath fill-rule=%27evenodd%27 d=%27M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z%27/%3e%3c/svg%3e"},"data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%236ea8fe%27%3e%3cpath fill-rule=%27evenodd%27 d=%27M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z%27/%3e%3c/svg%3e":module=>{module.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%236ea8fe%27%3e%3cpath fill-rule=%27evenodd%27 d=%27M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z%27/%3e%3c/svg%3e"},"data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23fff%27%3e%3cpath d=%27M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z%27/%3e%3c/svg%3e":module=>{module.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23fff%27%3e%3cpath d=%27M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z%27/%3e%3c/svg%3e"},"data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23fff%27%3e%3cpath d=%27M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z%27/%3e%3c/svg%3e":module=>{module.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23fff%27%3e%3cpath d=%27M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z%27/%3e%3c/svg%3e"},"data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27%3e%3cpath fill=%27none%27 stroke=%27%23343a40%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%272%27 d=%27m2 5 6 6 6-6%27/%3e%3c/svg%3e":module=>{module.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27%3e%3cpath fill=%27none%27 stroke=%27%23343a40%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%272%27 d=%27m2 5 6 6 6-6%27/%3e%3c/svg%3e"},"data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27%3e%3cpath fill=%27none%27 stroke=%27%23dee2e6%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%272%27 d=%27m2 5 6 6 6-6%27/%3e%3c/svg%3e":module=>{module.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27%3e%3cpath fill=%27none%27 stroke=%27%23dee2e6%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%272%27 d=%27m2 5 6 6 6-6%27/%3e%3c/svg%3e"},"data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 20 20%27%3e%3cpath fill=%27none%27 stroke=%27%23fff%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%273%27 d=%27M6 10h8%27/%3e%3c/svg%3e":module=>{module.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 20 20%27%3e%3cpath fill=%27none%27 stroke=%27%23fff%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%273%27 d=%27M6 10h8%27/%3e%3c/svg%3e"},"data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 20 20%27%3e%3cpath fill=%27none%27 stroke=%27%23fff%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%273%27 d=%27m6 10 3 3 6-6%27/%3e%3c/svg%3e":module=>{module.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 20 20%27%3e%3cpath fill=%27none%27 stroke=%27%23fff%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%273%27 d=%27m6 10 3 3 6-6%27/%3e%3c/svg%3e"},"data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 30 30%27%3e%3cpath stroke=%27rgba%28255, 255, 255, 0.55%29%27 stroke-linecap=%27round%27 stroke-miterlimit=%2710%27 stroke-width=%272%27 d=%27M4 7h22M4 15h22M4 23h22%27/%3e%3c/svg%3e":module=>{module.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 30 30%27%3e%3cpath stroke=%27rgba%28255, 255, 255, 0.55%29%27 stroke-linecap=%27round%27 stroke-miterlimit=%2710%27 stroke-width=%272%27 d=%27M4 7h22M4 15h22M4 23h22%27/%3e%3c/svg%3e"},"data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 30 30%27%3e%3cpath stroke=%27rgba%2833, 37, 41, 0.75%29%27 stroke-linecap=%27round%27 stroke-miterlimit=%2710%27 stroke-width=%272%27 d=%27M4 7h22M4 15h22M4 23h22%27/%3e%3c/svg%3e":module=>{module.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 30 30%27%3e%3cpath stroke=%27rgba%2833, 37, 41, 0.75%29%27 stroke-linecap=%27round%27 stroke-miterlimit=%2710%27 stroke-width=%272%27 d=%27M4 7h22M4 15h22M4 23h22%27/%3e%3c/svg%3e"},"data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 8 8%27%3e%3cpath fill=%27%23198754%27 d=%27M2.3 6.73.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z%27/%3e%3c/svg%3e":module=>{module.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 8 8%27%3e%3cpath fill=%27%23198754%27 d=%27M2.3 6.73.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z%27/%3e%3c/svg%3e"}}]);